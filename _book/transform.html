<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Transform | R Reference Manual</title>
  <meta name="description" content="Transform | R Reference Manual" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Transform | R Reference Manual" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Transform | R Reference Manual" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tidy.html"/>
<link rel="next" href="visualize.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.5/grViz.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Reference Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i>Import</a><ul>
<li class="chapter" data-level="" data-path="import.html"><a href="import.html#create-data"><i class="fa fa-check"></i>Create Data</a></li>
<li class="chapter" data-level="" data-path="import.html"><a href="import.html#import-data-from-a-local-drive"><i class="fa fa-check"></i>Import Data from a Local Drive</a></li>
<li class="chapter" data-level="" data-path="import.html"><a href="import.html#import-data-from-the-internet"><i class="fa fa-check"></i>Import Data from the Internet</a></li>
<li class="chapter" data-level="" data-path="import.html"><a href="import.html#import-from-or-create-data-in-a-database"><i class="fa fa-check"></i>Import from or Create Data in a Database</a><ul>
<li class="chapter" data-level="" data-path="import.html"><a href="import.html#sql"><i class="fa fa-check"></i>SQL</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="import.html"><a href="import.html#notes-references"><i class="fa fa-check"></i>Notes &amp; References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html"><i class="fa fa-check"></i>Tidy</a><ul>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html#explore-raw-data"><i class="fa fa-check"></i>Explore Raw Data</a></li>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html#tidy-data"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html#prepare-data-for-analysis"><i class="fa fa-check"></i>Prepare Data for Analysis</a><ul>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html#coerce"><i class="fa fa-check"></i>Coerce</a></li>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html#dates-and-datetimes"><i class="fa fa-check"></i>Dates and Datetimes</a></li>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html#filter"><i class="fa fa-check"></i>Filter</a></li>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html#strings"><i class="fa fa-check"></i>Strings</a></li>
<li class="chapter" data-level="" data-path="tidy.html"><a href="tidy.html#test"><i class="fa fa-check"></i>Test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i>Transform</a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#arithmetic-summary-statistics"><i class="fa fa-check"></i>Arithmetic &amp; Summary Statistics</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#create-new-variables-or-modify-existing-ones"><i class="fa fa-check"></i>Create New Variables or Modify Existing Ones</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#dates-and-datetimes-1"><i class="fa fa-check"></i>Dates and Datetimes</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#factors"><i class="fa fa-check"></i>Factors</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#merge-or-append-data"><i class="fa fa-check"></i>Merge or Append Data</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#narrow-in-on-observations-of-interest"><i class="fa fa-check"></i>Narrow in on Observations of Interest</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#test-1"><i class="fa fa-check"></i>Test</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualize.html"><a href="visualize.html"><i class="fa fa-check"></i>Visualize</a><ul>
<li class="chapter" data-level="" data-path="visualize.html"><a href="visualize.html#interfaces"><i class="fa fa-check"></i>Interfaces</a></li>
<li class="chapter" data-level="" data-path="visualize.html"><a href="visualize.html#graphs-charts-and-plots"><i class="fa fa-check"></i>Graphs, Charts, and Plots</a></li>
<li class="chapter" data-level="" data-path="visualize.html"><a href="visualize.html#graphs-charts-and-plots---statistics"><i class="fa fa-check"></i>Graphs, Charts, and Plots - Statistics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="model.html"><a href="model.html"><i class="fa fa-check"></i>Model</a><ul>
<li class="chapter" data-level="" data-path="model.html"><a href="model.html#general"><i class="fa fa-check"></i>General</a></li>
<li class="chapter" data-level="" data-path="model.html"><a href="model.html#regression"><i class="fa fa-check"></i>Regression</a></li>
<li class="chapter" data-level="" data-path="model.html"><a href="model.html#simulation-prediction"><i class="fa fa-check"></i>Simulation &amp; Prediction</a></li>
<li class="chapter" data-level="" data-path="model.html"><a href="model.html#strings-1"><i class="fa fa-check"></i>Strings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="communicate.html"><a href="communicate.html"><i class="fa fa-check"></i>Communicate</a><ul>
<li class="chapter" data-level="" data-path="communicate.html"><a href="communicate.html#css"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="communicate.html"><a href="communicate.html#export"><i class="fa fa-check"></i>Export</a></li>
<li class="chapter" data-level="" data-path="communicate.html"><a href="communicate.html#format-output"><i class="fa fa-check"></i>Format Output</a></li>
<li class="chapter" data-level="" data-path="communicate.html"><a href="communicate.html#graphics"><i class="fa fa-check"></i>Graphics</a></li>
<li class="chapter" data-level="" data-path="communicate.html"><a href="communicate.html#plots"><i class="fa fa-check"></i>Plots</a></li>
<li class="chapter" data-level="" data-path="communicate.html"><a href="communicate.html#rmarkdown"><i class="fa fa-check"></i>RMarkdown</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html"><i class="fa fa-check"></i>Program</a><ul>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#characters"><i class="fa fa-check"></i>Characters</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#conditionals-control-flows"><i class="fa fa-check"></i>Conditionals &amp; Control Flows</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#environment-and-workspace"><i class="fa fa-check"></i>Environment and Workspace</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#evaluation-standard-and-non-standard"><i class="fa fa-check"></i>Evaluation (Standard and Non-standard)</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#functionals"><i class="fa fa-check"></i>Functionals</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#learn-about-an-object"><i class="fa fa-check"></i>Learn About an Object</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#loops"><i class="fa fa-check"></i>Loops</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#optimization"><i class="fa fa-check"></i>Optimization</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#pipes"><i class="fa fa-check"></i>Pipes</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#popups"><i class="fa fa-check"></i>Popups</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#selecting-subsetting"><i class="fa fa-check"></i>Selecting &amp; Subsetting</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#system-commands"><i class="fa fa-check"></i>System Commands</a></li>
<li class="chapter" data-level="" data-path="program.html"><a href="program.html#version-control"><i class="fa fa-check"></i>Version Control</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-resources.html"><a href="references-resources.html"><i class="fa fa-check"></i>References &amp; Resources</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Reference Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="transform" class="section level1">
<h1>Transform</h1>
<hr />
<p>“Transformation includes narrowing in on observations of interest (like all people in one city, or all data from the last year), creating new variables that are functions of existing variables (like computing velocity from speed and time), and calculating a set of summary statistics (like counts or means).”<br />
- Garrett Grolemund &amp; Hadley Wickham, <em>R for Data Science</em>
***</p>
<div id="arithmetic-summary-statistics" class="section level2">
<h2>Arithmetic &amp; Summary Statistics</h2>
<hr />
<ul>
<li><code>assertive::is_divisible_by</code></li>
<li><code>base::abs</code></li>
<li><code>base::colMeans</code></li>
<li><code>base::colSums</code></li>
<li><code>base::diff</code></li>
<li><code>base::IQR</code></li>
<li><code>base::max</code></li>
<li><code>base::mean</code>
<ul>
<li>Note that <code>base::mean</code> can be used to calculate a percentage when used in <code>dplyr::summarize</code>, as follows:</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">by_country &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">  </span>votes <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="st">  </span><span class="kw">group_by</span>(country) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">total =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb6-5" title="5">            <span class="dt">percent_yes =</span> <span class="kw">mean</span>(vote <span class="op">==</span><span class="st"> </span><span class="dv">1</span>))</a></code></pre></div>
<ul>
<li><code>base::median</code></li>
<li><code>base::min</code></li>
<li>Mode: Use <code>table</code> to view the mode of a data set.</li>
<li>Operators:
<ul>
<li>Arithmetic Operators: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%%</code></li>
<li>Comparison Operators: <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>==</code>, <code>!=</code>.
<ul>
<li>Use <code>identical</code> and <code>all.equal</code> rather than <code>==</code> and <code>!=</code> in tests where a single <code>TRUE</code> or <code>FALSE</code> is required (such as <code>if</code> expressions).</li>
</ul></li>
</ul></li>
<li><code>base::range</code>
<ul>
<li>Use <code>diff(range())</code> to get the range as a measure of variability.</li>
</ul></li>
<li><code>base::round</code></li>
<li><code>base::rowMeans</code></li>
<li><code>base::rowSums</code></li>
<li><code>base::scale</code></li>
<li><code>base::sd</code></li>
<li><code>base::signif</code>
<ul>
<li>Round values to a specified number of significant digits.</li>
</ul></li>
<li><code>base::sqrt</code></li>
<li><code>base::sum</code></li>
<li><code>base::summary</code></li>
<li><code>base::var</code></li>
<li><code>dplyr::count</code></li>
<li><code>dplyr::group_by</code></li>
<li><code>dplyr::n</code>
<ul>
<li>Must be used within <code>summarise</code>, <code>mutate</code>, or <code>filter</code>.</li>
</ul></li>
<li><code>dplyr::n_distinct</code></li>
<li><code>dplyr::near</code>
<ul>
<li>Compare two numeric vectors (safer than using <code>==</code>).</li>
</ul></li>
<li><code>dplyr::summarize</code>
<ul>
<li>Use <code>mean(variable == value)</code> to get a percentage (see the above example for <code>mean</code>.)</li>
</ul></li>
<li><code>dplyr::tally</code></li>
<li><code>dplyr::top_n</code></li>
<li><code>magrittr::extract</code>
<ul>
<li><code>x %&gt;% extract(y)</code> is equivalent to <code>x[y]</code>.</li>
</ul></li>
<li><code>magrittr::multiply_by</code>
<ul>
<li><code>x %&gt;% multiply_by(y)</code> is equivalent to <code>x * y</code>.</li>
</ul></li>
<li><code>magrittr::raise_to_power</code>
<ul>
<li><code>x %&gt;% raise_to_power(y)</code> is equivalent to <code>x^y</code>.</li>
</ul></li>
<li><code>stats::aggregate</code>
<ul>
<li>Compute summary statistics of data subsets.</li>
</ul></li>
<li><code>stats::cor</code></li>
<li><code>stats::cov</code></li>
<li><code>stats::lag</code></li>
<li><code>stats::rnorm</code></li>
<li><code>stats::var</code></li>
</ul>
<hr />
</div>
<div id="create-new-variables-or-modify-existing-ones" class="section level2">
<h2>Create New Variables or Modify Existing Ones</h2>
<p><code>countrycode</code></p>
<ul>
<li><code>countrycode()</code>: Convert country codes into country names.</li>
</ul>
<p><code>dplyr</code></p>
<ul>
<li><code>mutate()</code>: Add new variables.
<ul>
<li><code>mutate()</code> can also be used to modify existing variables. To change the case of a character variable, for example, do something like:</li>
<li>Child function: <code>transmute()</code> (drops existing variables).</li>
</ul></li>
<li><code>recode()</code>: Recode values (the numeric alternative to using <code>if_else</code> or <code>case_when()</code>).</li>
</ul>
<p><strong>Example:</strong> <code>dplyr::mutate</code></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">df &lt;-</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">  </span>df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">var_name =</span> <span class="kw">str_to_lower</span>(var_name))</a>
<a class="sourceLine" id="cb7-4" title="4"></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co"># Add a T/F vector, which can then be referenced to highlight certain </span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co"># information in a plot:</span></a>
<a class="sourceLine" id="cb7-7" title="7"></a>
<a class="sourceLine" id="cb7-8" title="8">df &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="st">  </span>df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">hilight =</span> <span class="dt">attributed_provider_id =</span> <span class="dv">95597</span>)</a></code></pre></div>
</div>
<div id="dates-and-datetimes-1" class="section level2">
<h2>Dates and Datetimes</h2>
<ul>
<li><code>base::date</code>
<ul>
<li>Get the current system date and time.</li>
</ul></li>
<li><code>base::difftime</code>
<ul>
<li>Time intervals and differences.</li>
<li><code>base::difftime</code> is the function behind the <code>-</code> operator when used with dates and datetimes (e.g., <code>time_1 - time_2</code> is equivalent to <code>difftime(time_1, time_2)</code>). The advantage of using <code>difftime</code> over <code>-</code>, however, is the <code>units</code> argument because it allows you to specify the unit of time in which the difference is calculated.</li>
</ul></li>
<li><code>base::months</code>
<ul>
<li>Extract the month names.</li>
</ul></li>
<li><code>base::quarters</code>
<ul>
<li>Extract the calendar quarters.</li>
</ul></li>
<li><code>base::seq.Date</code></li>
<li><code>base::Sys.Date</code>
<ul>
<li>Get the current date in the current time zone.</li>
</ul></li>
<li><code>base::Sys.time</code>
<ul>
<li>Get the absolute date-time value (which can be converted to various time zones and may return different days).</li>
</ul></li>
<li><code>base::weekdays</code>
<ul>
<li>Extract weekday names.</li>
</ul></li>
<li><code>lubridate::ceiling_date</code></li>
<li><code>lubridate::date</code>
<ul>
<li>Get or set the date component of a date-time.</li>
</ul></li>
<li><code>lubridate::day</code>
<ul>
<li>Get or set the day component of a datetime.</li>
</ul></li>
<li><code>lubridate::floor_date</code></li>
<li><code>lubridate::month</code>
<ul>
<li>Get or set the month component of a datetime.</li>
</ul></li>
<li><code>lubridate::now</code>
<ul>
<li>The current time (as a POSIXct object).</li>
</ul></li>
<li><code>lubridate::quarter</code>
<ul>
<li>Get or set the fiscal quarter or semester component of a datetime.</li>
</ul></li>
<li><code>lubridate::round_date</code></li>
<li>Time spans: Duration
<ul>
<li>Use when you are interested in seconds elapsed.</li>
<li><code>lubridate::ddays</code></li>
<li><code>lubridate::dhours</code></li>
<li><code>lubridate::dminutes</code></li>
<li><code>lubridate::dseconds</code></li>
<li><code>lubridate::dweeks</code></li>
<li><code>lubridate::dyears</code></li>
</ul></li>
<li>Time spans: Interval
<ul>
<li>Use when you have a start and end.</li>
<li><code>%--%</code></li>
<li><code>int_aligns</code></li>
<li><code>int_diff</code></li>
<li><code>int_end</code></li>
<li><code>int_flip</code></li>
<li><code>int_length</code></li>
<li><code>int_overlaps</code></li>
<li><code>int_shift</code></li>
<li><code>int_standardize</code></li>
<li><code>int_start</code></li>
<li><code>interval</code></li>
<li><code>is.interval</code></li>
</ul></li>
<li>Time spans: Period
<ul>
<li>Use when you are interested in human units.</li>
<li><code>lubridate::day</code></li>
<li><code>lubridate::hour</code></li>
<li><code>lubridate::minute</code></li>
<li><code>lubridate::month</code></li>
<li><code>lubridate::second</code></li>
<li><code>lubridate::week</code></li>
<li><code>lubridate::year</code></li>
</ul></li>
<li>Time zones:
<ul>
<li><code>lubridate::force_tz</code>
<ul>
<li>Change the time zone without changing the clock time.</li>
</ul></li>
<li><code>lubridate::tz</code>
<ul>
<li>Extract the time zone from a datetime.</li>
</ul></li>
<li><code>lubridate::with_tz</code>
<ul>
<li>View the same instant in a different time zone.</li>
</ul></li>
</ul></li>
<li><code>lubridate::today</code></li>
<li><code>lubridate::%m+%</code> &amp; <code>%m-%</code>
<ul>
<li>Add and subtract months to a date without exceeding the last day of the new month.</li>
</ul></li>
<li><code>lubridate::%within%</code>
<ul>
<li>Test whether a date or interval falls within an interval.</li>
</ul></li>
<li><code>lubridate::year</code>
<ul>
<li>Get or set the year component of a datetime.</li>
</ul></li>
</ul>
<hr />
</div>
<div id="factors" class="section level2">
<h2>Factors</h2>
<p><code>forcats</code></p>
<ul>
<li><code>fct_drop()</code>: Drop levels.</li>
<li><code>fct_reorder()</code>: Reorder levels, based on the value of another variable.</li>
<li><code>fct_rev()</code>: Reverse levels.</li>
</ul>
<p><code>stats</code></p>
<ul>
<li><code>reorder()</code>: Reorder levels of a factor.
<ul>
<li>Useful within the <code>aes()</code> argument in a <code>ggplot()</code> call.</li>
</ul></li>
</ul>
</div>
<div id="merge-or-append-data" class="section level2">
<h2>Merge or Append Data</h2>
<p><code>base</code></p>
<ul>
<li><code>append()</code>: Add elements to a vector.</li>
<li><code>cbind()</code>: Combine objects by column.</li>
<li><code>intersect()</code>: Combine data shared in common between two datasets.
<ul>
<li>Similar to <code>dplyr::semi_join()</code>.</li>
</ul></li>
<li><code>merge()</code>: Merge two data frames.
<ul>
<li><code>dplyr::join</code> functions are an alternative to <code>merge()</code>.</li>
</ul></li>
<li><code>rbind()</code>: Combine objects by row.</li>
<li><code>setdiff()</code>: Find the difference between two vectors.
<ul>
<li>Similar to <code>dplyr::anti_join()</code>.</li>
</ul></li>
<li><code>union()</code>: Combine two datasets without duplicating values.</li>
</ul>
<p><code>dplyr</code></p>
<ul>
<li><code>bind()</code>: Bind multiple data frames by row and column.
<ul>
<li>Child functions: bind_rows(), bind_cols(), combine().</li>
</ul></li>
<li>Join Functions: Join two tables.
<ul>
<li>Filtering Joins:
<ul>
<li>anti_join(): Return all rows from <code>x</code> where there are not matching values in <code>y</code>, keeping just columns from <code>x</code>.</li>
<li>semi_join(): Return all rows from <code>x</code> where there are matching values in <code>y</code>, keeping just columns from <code>x</code>. A semi join differs from an inner join because an inner join will return one row of <code>x</code> for each matching row of <code>y</code>, where a semi join will never duplicate rows of <code>x</code>.</li>
</ul></li>
<li>Mutating Joins:
<ul>
<li>full_join(): Return all rows and all columns from both <code>x</code> and <code>y</code>. Where there are not matching values, returns <code>NA</code> for the one missing.</li>
<li>inner_join(): Return all rows from <code>x</code> where there are matching values in <code>y</code>, and all columns from <code>x</code> and <code>y</code>. If there are multiple matches between <code>x</code> and <code>y</code>, all combination of the matches are returned.</li>
<li>left_join(): Return all rows from <code>x</code>, and all columns from <code>x</code> and <code>y</code>. Rows in <code>x</code> with no match in <code>y</code> will have <code>NA</code> values in the new columns. If there are multiple matches between <code>x</code> and <code>y</code>, all combinations of the matches are returned.</li>
<li>right_join(): Return all rows from <code>y</code>, and all columns from <code>x</code> and <code>y</code>. Rows in <code>x</code> with no match in <code>y</code> will have <code>NA</code> values in the new columns. If there are multiple matches between <code>y</code> and <code>x</code>, all combinations of the matches are returned.</li>
</ul></li>
</ul></li>
</ul>
<p><code>tibble</code></p>
<ul>
<li><code>add_column()</code>: Add columns to a data frame.</li>
<li><code>add_row()</code>: Add rows to a data frame.</li>
</ul>
<hr />
</div>
<div id="narrow-in-on-observations-of-interest" class="section level2">
<h2>Narrow in on Observations of Interest</h2>
<p><code>{base}</code></p>
<ul>
<li><code>droplevels</code>: Drop unused levels from factors.
<ul>
<li>This function will keep levels that have even 1 or 2 counts. If you want to remove levels with low counts from a data set in order to simplify your analysis, first <code>filter</code> out those rows and then use <code>droplevels</code>.</li>
</ul></li>
<li><code>order</code>: Arrange in ascending or descending order.
<ul>
<li>Alternative: <code>dplyr::arrange</code>.</li>
</ul></li>
<li><code>prop.table</code>: Express table entries as proportions of the marginal table.
<ul>
<li>The input is a table produced by <code>table</code>.</li>
<li>As these are proportions of the whole, <code>sum(prop.table(table_name))</code> = 1.</li>
<li>Specify conditional proportions on rows or columns by using the <code>margin</code> argument.</li>
</ul></li>
<li><code>table</code>: Build a table of the counts at each combination of factor levels.
<ul>
<li>Use <code>prop.table</code> to see the table entries expressed as proportions.</li>
</ul></li>
</ul>
<p><code>{dplyr}</code></p>
<ul>
<li><code>arrange</code>: Arrange rows by variable, in ascending order.
<ul>
<li>Related functions: <code>arrange_all</code>, <code>arrange_at</code>, <code>arrange_if</code>.</li>
</ul></li>
<li><code>distinct</code>: Select distinct rows.</li>
<li><code>filter</code>: Return rows with matching conditions.
<ul>
<li>Use <code>%in%</code> when using multiple <code>|</code> conditions. The following two commands, for example, are equivalent:</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">ilo_data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sweden&quot;</span>, <span class="st">&quot;Switzerland&quot;</span>))</a>
<a class="sourceLine" id="cb8-3" title="3"></a>
<a class="sourceLine" id="cb8-4" title="4">ilo_data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st">  </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Sweden&quot;</span> <span class="op">|</span><span class="st"> </span>country <span class="op">==</span><span class="st"> &quot;Switzerland&quot;</span>)</a></code></pre></div>
<ul>
<li><code>renam</code>: Rename variables by name (a modification of <code>select</code>).</li>
<li><code>sample_n</code>: Sample n rows from a table.</li>
<li><code>select</code>: Select/rename variables.
<ul>
<li>Helper functions include: <code>starts_wit</code>, <code>ends_with</code>, <code>contains</code>, <code>matches</code>, <code>num_range</code>, and <code>one_of</code>. See <code>?dplyr::select_helpers</code>.</li>
<li>Helper functions take strings (e.g., <code>contains("work")</code> rather than <code>contains(work)</code>).</li>
</ul></li>
<li><code>slice</code>: Choose rows by position.</li>
<li><code>transmute</code>: Create or transform variables.
<ul>
<li>Like a combination of <code>select</code> and <code>mutate</code>.</li>
</ul></li>
</ul>
<hr />
</div>
<div id="test-1" class="section level2">
<h2>Test</h2>
<p><code>base</code></p>
<ul>
<li><code>identical()</code>: Test objects for exact equality.</li>
<li><code>match()</code>: Value matching.
<ul>
<li><code>%in%</code> is the more intuitive binary operator.</li>
</ul></li>
<li><code>setequal()</code>: Check two vectors for equality.</li>
<li><code>which()</code>: Determine which indices are <code>TRUE</code>.
<ul>
<li>This function is often unnecessary, according to the DataCamp article <a href="https://www.datacamp.com/community/tutorials/five-tips-r-code-improve">“Five Tips to Improve Your R Code”</a>.</li>
</ul></li>
<li><code>which.min()</code>/<code>which.max()</code>: Where is the <code>min()</code>/<code>max()</code> or first <code>TRUE</code>/<code>FALSE</code>?</li>
<li><code>%in%</code>: See <code>match()</code>.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tidy.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualize.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R_Reference_Manual.pdf", "R_Reference_Manual.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
